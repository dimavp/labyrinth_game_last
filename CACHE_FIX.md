# Решение проблемы с кэшем Docker в CapRover

## Проблема
Docker использует кэшированный образ, поэтому новые файлы не попадают в деплой.

## Решение через веб-интерфейс

### Шаг 1: Очистить Docker кэш
1. Откройте CapRover Dashboard: **https://captain.apps.dimavp.ru**
2. Войдите в систему
3. Выберите приложение **capibara**
4. Перейдите в раздел **App Configs**
5. Внизу страницы нажмите на кнопку **"Force Rebuild"** или включите опцию **"Force build from scratch"**

### Шаг 2: Загрузить новый tar-файл
1. В разделе **Deployment** выберите **Method 3: Deploy via tarball**
2. Загрузите файл `labyrinth.tar` из этой директории
3. Нажмите **Upload & Deploy**
4. Дождитесь завершения сборки

### Альтернативный способ - через SSH на сервере

Если у вас есть SSH доступ к серверу CapRover:

```bash
# Подключитесь к серверу
ssh your-server

# Удалите старый образ
docker rmi img-captain-capibara:latest

# Или очистите все неиспользуемые образы
docker system prune -a
```

После этого повторите деплой:
```bash
caprover deploy -t ./labyrinth.tar -a capibara --default
```

## Что включено в обновление

Файл `labyrinth.tar` содержит:
- ✅ index.html - с секцией выбора сложности
- ✅ style.css - с стилями для кнопок 1-4
- ✅ script.js - с логикой динамического изменения размера лабиринта
- ✅ capybara.png - спрайт капибары
- ✅ captain-definition - конфигурация Docker

## После деплоя

Игра должна показывать:
````
ЛАБИРИНТ ДЛЯ ИРИШКИ

Используй СТРЕЛКИ для движения капибары.
Доберись до зеленой зоны чтобы победить!

Выбери сложность:
[1] [2] [3] [4]  ← Эти кнопки должны быть видны!
````

## Проверка
Откройте https://capibara.apps.dimavp.ru и нажмите **Ctrl+Shift+R** для жесткой перезагрузки страницы без кэша браузера.
